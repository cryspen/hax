(* File automatically generated by Hacspec *)
Set Warnings "-notation-overridden,-ambiguous-paths".
From Crypt Require Import choice_type Package Prelude.
Import PackageNotation.
From extructures Require Import ord fset.
From mathcomp Require Import word_ssrZ word.
(* From Jasmin Require Import word. *)

From Coq Require Import ZArith.
From Coq Require Import Strings.String.
Import List.ListNotations.
Open Scope list_scope.
Open Scope Z_scope.
Open Scope bool_scope.

From Hacspec Require Import ChoiceEquality.
From Hacspec Require Import LocationUtility.
From Hacspec Require Import Hacspec_Lib_Comparable.
From Hacspec Require Import Hacspec_Lib_Pre.
From Hacspec Require Import Hacspec_Lib.

Open Scope hacspec_scope.
Import choice.Choice.Exports.

From RecordUpdate Require Import RecordUpdate.

Import RecordSetNotations.

Obligation Tactic := (* try timeout 8 *) solve_ssprove_obligations.

(*Not implemented yet? todo(item)*)

Class t_T1 (Self : choice_type) (v_Self : v_Self) := {
  f_f1 : (both v_Self -> both uint_size) ;
  f_f2 : (both v_Self -> both v_Self -> both uint_size) ;
}.

Definition t_S : choice_type :=
  'unit.
Equations Build_t_S : both (t_S) :=
  Build_t_S  :=
    ret_both (tt (* Empty tuple *) : (t_S)) : both (t_S).
Fail Next Obligation.

#[global] Program Instance t_S_t_T1 : t_T1 t_S :=
  let f_f1 := fun  (self : both t_S) => ret_both (42 : uint_size) : both uint_size in
  let f_f2 := fun  (self : both t_S) (other : both t_S) => ret_both (43 : uint_size) : both uint_size in
  {| f_f1 := (@f_f1);
  f_f2 := (@f_f2)|}.
Fail Next Obligation.
Hint Unfold t_S_t_T1.

Equations f {v_T : v_T} `{ t_T1 v_T} (x : both v_T) : both uint_size :=
  f x  :=
    (f_f1 x) .+ (f_f2 x x) : both uint_size.
Fail Next Obligation.
